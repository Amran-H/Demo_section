<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gateway Details</title>
    <link href="../output.css" rel="stylesheet">
</head>

<body class="bg-gray-100 p-6">
    <div class="mx-auto bg-white shadow-lg rounded-lg py-8 px-16">
        <!-- Header -->
        <div class="flex justify-between items-center mb-8">
            <h1 class="text-2xl font-bold text-gray-800">Gateway Details</h1>
            <button
                class="bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center hover:bg-blue-600 transition duration-200">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"></path>
                </svg>
                Back
            </button>
        </div>

        <!-- PayPal Details -->
        <div class="mb-8">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">PayPal</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Paypal Email*</label>
                    <input type="email"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        value="sb-n47nrf7920926@business.example.com">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Paypal Client ID*</label>
                    <input type="text"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        value="test">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Client Secret*</label>
                    <input type="text"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        value="test">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Mode*</label>
                    <input type="text" value="test"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
            </div>
        </div>

        <!-- Currencies Section -->
        <div class="mb-8">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-semibold text-gray-800">Currencies</h2>
                <button onclick="openAddCurrencyModal()"
                    class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition duration-200">Add
                    Currency</button>
            </div>
            <div id="currenciesContainer" class="space-y-4">
                <!-- Currency item -->
                <div class="border-2 border-gray-200 rounded-lg p-4">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-lg font-medium text-gray-800">USD</span>
                        <button onclick="openRemoveCurrencyModal('${currency.code}')"
                            class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition duration-200">Remove</button>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Fees*</label>
                            <div class="flex items-center">
                                <span class="mr-2 text-gray-600">$</span>
                                <input type="number"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    value="0.80000000">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Fees Type*</label>
                            <select
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="fixed">Fixed</option>
                                <option value="percent">Percent</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="border-2 border-gray-200 rounded-lg p-4">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-lg font-medium text-gray-800">EUR</span>
                        <button onclick="openRemoveCurrencyModal('${currency.code}')"
                            class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition duration-200">Remove</button>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Fees*</label>
                            <div class="flex items-center">
                                <span class="mr-2 text-gray-600">€ </span>
                                <input type="number"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    value="1.50000000">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Fees Type*</label>
                            <select
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="fixed">Fixed</option>
                                <option value="percent">Percent</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Update Gateway Button -->
        <div class="flex justify-end">
            <button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition duration-200">Update
                Gateway</button>
        </div>
    </div>

    <!-- Add Currency Modal -->
    <dialog id="addCurrencyModal" class="modal">
        <div class="modal-box bg-white p-6 rounded-lg max-w-md">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-5 top-5">✕</button>
            </form>
            <h3 class="font-bold text-lg text-gray-800 mb-4">Add Currency</h3>
            <div class="divider"></div>
            <form id="addCurrencyForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Currency Code*</label>
                    <input name="currencyCode" type="text"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        placeholder="Ex: USD" required>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Fees*</label>
                        <div class="flex items-center">
                            <span class="mr-2 text-gray-600">$</span>
                            <input name="fees" type="number"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                                required>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Fees Type*</label>
                        <select name="feesType"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            required>
                            <option value="" disabled>Select Fees Type</option>
                            <option value="fixed">Fixed</option>
                            <option value="percent">Percent</option>
                        </select>
                    </div>
                </div>
            </form>
            <div class="modal-action mt-6">
                <button onclick="addCurrency()"
                    class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition duration-200">Add
                    Currency</button>
                <button onclick="document.getElementById('addCurrencyModal').close()"
                    class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition duration-200">Close</button>
            </div>
        </div>
    </dialog>

    <!-- Remove Currency Modal -->
    <dialog id="removeCurrencyModal" class="modal">
        <div class="modal-box bg-white p-6 rounded-lg max-w-md">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-5 top-5">✕</button>
            </form>
            <h3 class="font-bold text-lg text-gray-800 mb-4">Remove Currency</h3>
            <div class="divider"></div>
            <p class="text-gray-700">Are you sure you want to remove this currency?</p>
            <div class="modal-action mt-6">
                <button id="confirmRemove"
                    class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition duration-200">Remove</button>
                <button onclick="document.getElementById('removeCurrencyModal').close()"
                    class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition duration-200">Close</button>
            </div>
        </div>
    </dialog>

    <script>
        // Open Add Currency Modal
        function openAddCurrencyModal() {
            document.getElementById("addCurrencyModal").showModal();
        }

        // Add Currency
        function addCurrency() {
            const form = document.getElementById("addCurrencyForm");
            const currencyCode = form.currencyCode.value;
            const fees = form.fees.value;
            const feesType = form.feesType.value;

            currencies.push({ code: currencyCode, name: currencyCode, fees, feesType });
            renderCurrencies();
            document.getElementById("addCurrencyModal").close();
        }

        // Open Remove Currency Modal
        function openRemoveCurrencyModal(code) {
            document.getElementById("removeCurrencyModal").showModal();
            document.getElementById("confirmRemove").onclick = () => {
                currencies.splice(currencies.findIndex(c => c.code === code), 1);
                renderCurrencies();
                document.getElementById("removeCurrencyModal").close();
            };
        }
        // Initial Render
        renderCurrencies();
    </script>
</body>

</html>